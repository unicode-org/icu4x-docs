<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="[`DateTimeFormatter`] is a formatter capable of formatting date/times from any calendar, selected at runtime. For the difference between this and `TypedDateTimeFormatter`, please read the [crate root docs][crate]."><meta name="keywords" content="rust, rustlang, rust-lang, DateTimeFormatter"><title>DateTimeFormatter in icu_datetime - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../icu_datetime/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../icu_datetime/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">DateTimeFormatter</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><ul><li><a href="#method.format">format</a></li><li><a href="#method.format_to_string">format_to_string</a></li><li><a href="#method.format_to_write">format_to_write</a></li><li><a href="#method.resolve_components">resolve_components</a></li><li><a href="#method.try_from_date_and_time">try_from_date_and_time</a></li><li><a href="#method.try_new_unstable">try_new_unstable</a></li><li><a href="#method.try_new_with_any_provider">try_new_with_any_provider</a></li><li><a href="#method.try_new_with_buffer_provider">try_new_with_buffer_provider</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul><li><a href="#impl-RefUnwindSafe">RefUnwindSafe</a></li><li><a href="#impl-Send">Send</a></li><li><a href="#impl-Sync">Sync</a></li><li><a href="#impl-Unpin">Unpin</a></li><li><a href="#impl-UnwindSafe">UnwindSafe</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#blanket-implementations">Blanket Implementations</a></h3><ul><li><a href="#impl-Any">Any</a></li><li><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-ErasedDestructor">ErasedDestructor</a></li><li><a href="#impl-From%3CT%3E">From&lt;T&gt;</a></li><li><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a></li><li><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></li></ul></div></section><h2 class="location"><a href="index.html">In icu_datetime</a></h2><div id="sidebar-vars" data-name="DateTimeFormatter" data-ty="struct" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../icu_datetime/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Struct <a href="index.html">icu_datetime</a>::<wbr><a class="struct" href="#">DateTimeFormatter</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/icu_datetime/any/datetime.rs.html#110">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust struct"><code>pub struct DateTimeFormatter(_, _);</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p><a href="struct.DateTimeFormatter.html" title="DateTimeFormatter"><code>DateTimeFormatter</code></a> is a formatter capable of formatting
date/times from any calendar, selected at runtime. For the difference between this and <a href="struct.TypedDateTimeFormatter.html"><code>TypedDateTimeFormatter</code></a>,
please read the <a href="index.html" title="crate">crate root docs</a>.</p>
<p>When constructed, it uses data from the <a href="../icu_provider/index.html">data provider</a>, selected locale and provided options to
collect all data necessary to format any dates into that locale.</p>
<p>For that reason, one should think of the process of formatting a date in two steps - first, a computational
heavy construction of <a href="struct.DateTimeFormatter.html" title="DateTimeFormatter"><code>DateTimeFormatter</code></a>, and then fast formatting of <a href="../icu_calendar/datetime/struct.DateTime.html"><code>DateTime</code></a> data using the instance.</p>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">icu::calendar::DateTime</span>;
<span class="kw">use</span> <span class="ident">icu::datetime</span>::{<span class="ident">options::length</span>, <span class="ident">DateTimeFormatter</span>};
<span class="kw">use</span> <span class="ident">icu::locid::Locale</span>;
<span class="kw">use</span> <span class="ident">std::str::FromStr</span>;

<span class="kw">let</span> <span class="ident">provider</span> <span class="op">=</span> <span class="ident">icu_testdata::get_provider</span>();

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">options</span> <span class="op">=</span> <span class="ident">length::Bag::from_date_time_style</span>(<span class="ident">length::Date::Medium</span>, <span class="ident">length::Time::Short</span>);

<span class="kw">let</span> <span class="ident">dtf</span> <span class="op">=</span> <span class="ident">DateTimeFormatter::try_new_with_buffer_provider</span>(<span class="kw-2">&amp;</span><span class="ident">provider</span>, <span class="kw-2">&amp;</span><span class="ident">Locale::from_str</span>(<span class="string">&quot;en-u-ca-gregory&quot;</span>).<span class="ident">unwrap</span>().<span class="ident">into</span>(), <span class="kw-2">&amp;</span><span class="ident">options</span>.<span class="ident">into</span>())
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to create TypedDateTimeFormatter instance.&quot;</span>);

<span class="kw">let</span> <span class="ident">datetime</span> <span class="op">=</span> <span class="ident">DateTime::new_gregorian_datetime</span>(<span class="number">2020</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">12</span>, <span class="number">34</span>, <span class="number">28</span>)
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to construct DateTime.&quot;</span>);
<span class="kw">let</span> <span class="ident">any_datetime</span> <span class="op">=</span> <span class="ident">datetime</span>.<span class="ident">to_any</span>();

<span class="kw">let</span> <span class="ident">value</span> <span class="op">=</span> <span class="ident">dtf</span>.<span class="ident">format_to_string</span>(<span class="kw-2">&amp;</span><span class="ident">any_datetime</span>).<span class="ident">expect</span>(<span class="string">&quot;calendars should match&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">value</span>, <span class="string">&quot;Sep 1, 2020, 12:34 PM&quot;</span>);</code></pre></div>
<p>Since this works with <a href="../icu_calendar/any_calendar/enum.AnyCalendar.html" title="AnyCalendar"><code>AnyCalendar</code></a>, you can use <a href="../icu_calendar/datetime/struct.DateTime.html"><code>DateTime</code></a> with <a href="../icu_calendar/any_calendar/enum.AnyCalendar.html" title="AnyCalendar"><code>AnyCalendar</code></a>
to have a date in a runtime-selected calendar:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">icu::calendar</span>::{<span class="ident">AnyCalendar</span>, <span class="ident">AnyCalendarKind</span>, <span class="ident">DateTime</span>, <span class="ident">types::Time</span>};
<span class="kw">use</span> <span class="ident">icu::datetime</span>::{<span class="ident">options::length</span>, <span class="ident">DateTimeFormatter</span>};
<span class="kw">use</span> <span class="ident">icu::locid::Locale</span>;

<span class="kw">let</span> <span class="ident">provider</span> <span class="op">=</span> <span class="ident">icu_testdata::get_provider</span>();

<span class="kw">let</span> <span class="ident">locale</span> <span class="op">=</span> <span class="ident">Locale::from_str</span>(<span class="string">&quot;en-u-ca-japanese&quot;</span>).<span class="ident">unwrap</span>(); <span class="comment">// English with the Japanese calendar</span>

<span class="kw">let</span> <span class="ident">calendar</span> <span class="op">=</span> <span class="ident">AnyCalendar::try_new_with_buffer_provider</span>(<span class="kw-2">&amp;</span><span class="ident">provider</span>, (<span class="kw-2">&amp;</span><span class="ident">locale</span>).<span class="ident">try_into</span>().<span class="ident">unwrap</span>())
                   .<span class="ident">expect</span>(<span class="string">&quot;constructing AnyCalendar failed&quot;</span>);
<span class="kw">let</span> <span class="ident">calendar</span> <span class="op">=</span> <span class="ident">Rc::new</span>(<span class="ident">calendar</span>); <span class="comment">// Avoid cloning it</span>


<span class="comment">// manually construct a datetime in this calendar</span>
<span class="kw">let</span> <span class="ident">manual_time</span> <span class="op">=</span> <span class="ident">Time::try_new</span>(<span class="number">12</span>, <span class="number">33</span>, <span class="number">12</span>, <span class="number">0</span>).<span class="ident">expect</span>(<span class="string">&quot;failed to construct Time&quot;</span>);
<span class="comment">// construct from era code, year, month code, day, time, and a calendar</span>
<span class="comment">// This is March 28, 15 Heisei</span>
<span class="kw">let</span> <span class="ident">manual_datetime</span> <span class="op">=</span> <span class="ident">DateTime::new_from_codes</span>(<span class="string">&quot;heisei&quot;</span>.<span class="ident">parse</span>().<span class="ident">unwrap</span>(), <span class="number">15</span>, <span class="string">&quot;M03&quot;</span>.<span class="ident">parse</span>().<span class="ident">unwrap</span>(), <span class="number">28</span>,
                                               <span class="ident">manual_time</span>, <span class="ident">calendar</span>.<span class="ident">clone</span>())
                    .<span class="ident">expect</span>(<span class="string">&quot;Failed to construct DateTime manually&quot;</span>);


<span class="comment">// construct another datetime by converting from ISO</span>
<span class="kw">let</span> <span class="ident">iso_datetime</span> <span class="op">=</span> <span class="ident">DateTime::new_iso_datetime</span>(<span class="number">2020</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">12</span>, <span class="number">34</span>, <span class="number">28</span>)
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to construct ISO DateTime.&quot;</span>);
<span class="kw">let</span> <span class="ident">iso_converted</span> <span class="op">=</span> <span class="ident">iso_datetime</span>.<span class="ident">to_calendar</span>(<span class="ident">calendar</span>);


<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">options</span> <span class="op">=</span> <span class="ident">length::Bag::from_date_time_style</span>(<span class="ident">length::Date::Medium</span>, <span class="ident">length::Time::Short</span>);

<span class="kw">let</span> <span class="ident">dtf</span> <span class="op">=</span> <span class="ident">DateTimeFormatter::try_new_with_buffer_provider</span>(<span class="kw-2">&amp;</span><span class="ident">provider</span>, <span class="kw-2">&amp;</span><span class="ident">locale</span>.<span class="ident">into</span>(), <span class="kw-2">&amp;</span><span class="ident">options</span>.<span class="ident">into</span>())
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to create TypedDateTimeFormatter instance.&quot;</span>);

<span class="kw">let</span> <span class="ident">manual_value</span> <span class="op">=</span> <span class="ident">dtf</span>.<span class="ident">format_to_string</span>(<span class="kw-2">&amp;</span><span class="ident">manual_datetime</span>).<span class="ident">expect</span>(<span class="string">&quot;calendars should match&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">manual_value</span>, <span class="string">&quot;Mar 28, 15 Heisei, 12:33 PM&quot;</span>);

<span class="kw">let</span> <span class="ident">converted_value</span> <span class="op">=</span> <span class="ident">dtf</span>.<span class="ident">format_to_string</span>(<span class="kw-2">&amp;</span><span class="ident">iso_converted</span>).<span class="ident">expect</span>(<span class="string">&quot;calendars should match&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">converted_value</span>, <span class="string">&quot;Sep 1, 2 Reiwa, 12:34 PM&quot;</span>);</code></pre></div>
<p>This model replicates that of <code>ICU</code> and <code>ECMA402</code>.</p>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><div id="implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/icu_datetime/any/datetime.rs.html#112-454">source</a></span><a href="#impl" class="anchor"></a><h3 class="code-header in-band">impl <a class="struct" href="struct.DateTimeFormatter.html" title="struct icu_datetime::DateTimeFormatter">DateTimeFormatter</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_new_with_any_provider" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/icu_datetime/any/datetime.rs.html#124-134">source</a></span><a href="#method.try_new_with_any_provider" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.try_new_with_any_provider" class="fnname">try_new_with_any_provider</a>&lt;P&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;data_provider: <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;</a>P, <br>&nbsp;&nbsp;&nbsp;&nbsp;locale: &amp;<a class="struct" href="../icu_provider/request/struct.DataLocale.html" title="struct icu_provider::request::DataLocale">DataLocale</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;options: &amp;<a class="enum" href="options/enum.DateTimeFormatterOptions.html" title="enum icu_datetime::options::DateTimeFormatterOptions">DateTimeFormatterOptions</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, <a class="enum" href="enum.DateTimeFormatterError.html" title="enum icu_datetime::DateTimeFormatterError">DateTimeFormatterError</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;P: <a class="trait" href="../icu_provider/any/trait.AnyProvider.html" title="trait icu_provider::any::AnyProvider">AnyProvider</a>,&nbsp;</span></h4></section></summary><div class="docblock"><p>Construct a new <a href="struct.DateTimeFormatter.html" title="DateTimeFormatter"><code>DateTimeFormatter</code></a> from a data provider that implements
<a href="../icu_provider/any/trait.AnyProvider.html" title="AnyProvider"><code>AnyProvider</code></a>.</p>
<p>The provider must be able to provide data for the following keys: <code>datetime/symbols@1</code>, <code>datetime/timelengths@1</code>,
<code>datetime/timelengths@1</code>, <code>datetime/symbols@1</code>, <code>datetime/skeletons@1</code>, <code>datetime/week_data@1</code>, and <code>plurals/ordinals@1</code>.</p>
<p>Furthermore, based on the type of calendar used, one of the following data keys may be necessary:</p>
<ul>
<li><code>u-ca-japanese</code> (Japanese calendar): <code>calendar/japanese@1</code></li>
</ul>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_new_with_buffer_provider" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/icu_datetime/any/datetime.rs.html#172-182">source</a></span><a href="#method.try_new_with_buffer_provider" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.try_new_with_buffer_provider" class="fnname">try_new_with_buffer_provider</a>&lt;P&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;data_provider: <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;</a>P, <br>&nbsp;&nbsp;&nbsp;&nbsp;locale: &amp;<a class="struct" href="../icu_provider/request/struct.DataLocale.html" title="struct icu_provider::request::DataLocale">DataLocale</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;options: &amp;<a class="enum" href="options/enum.DateTimeFormatterOptions.html" title="enum icu_datetime::options::DateTimeFormatterOptions">DateTimeFormatterOptions</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, <a class="enum" href="enum.DateTimeFormatterError.html" title="enum icu_datetime::DateTimeFormatterError">DateTimeFormatterError</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;P: <a class="trait" href="../icu_provider/buf/trait.BufferProvider.html" title="trait icu_provider::buf::BufferProvider">BufferProvider</a>,&nbsp;</span></h4></section></summary><div class="docblock"><p>Construct a new <a href="struct.DateTimeFormatter.html" title="DateTimeFormatter"><code>DateTimeFormatter</code></a> from a data provider that implements
<a href="../icu_provider/buf/trait.BufferProvider.html" title="BufferProvider"><code>BufferProvider</code></a>.</p>
<p>The provider must be able to provide data for the following keys: <code>datetime/symbols@1</code>, <code>datetime/datelengths@1</code>,
<code>datetime/timelengths@1</code>, <code>datetime/symbols@1</code>, <code>datetime/skeletons@1</code>, <code>datetime/week_data@1</code>, and <code>plurals/ordinals@1</code>.</p>
<p>Furthermore, based on the type of calendar used, one of the following data keys may be necessary:</p>
<ul>
<li><code>u-ca-japanese</code> (Japanese calendar): <code>calendar/japanese@1</code></li>
</ul>
<h5 id="examples-1"><a href="#examples-1">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">icu::calendar::DateTime</span>;
<span class="kw">use</span> <span class="ident">icu::datetime</span>::{<span class="ident">options::length</span>, <span class="ident">DateTimeFormatter</span>};
<span class="kw">use</span> <span class="ident">icu::locid::Locale</span>;
<span class="kw">use</span> <span class="ident">icu_provider::any::DynamicDataProviderAnyMarkerWrap</span>;
<span class="kw">use</span> <span class="ident">std::str::FromStr</span>;

<span class="kw">let</span> <span class="ident">provider</span> <span class="op">=</span> <span class="ident">icu_testdata::get_provider</span>();

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">options</span> <span class="op">=</span> <span class="ident">length::Bag::from_date_time_style</span>(<span class="ident">length::Date::Medium</span>, <span class="ident">length::Time::Short</span>);
<span class="kw">let</span> <span class="ident">locale</span> <span class="op">=</span> <span class="ident">Locale::from_str</span>(<span class="string">&quot;en-u-ca-gregory&quot;</span>).<span class="ident">unwrap</span>();

<span class="kw">let</span> <span class="ident">dtf</span> <span class="op">=</span> <span class="ident">DateTimeFormatter::try_new_with_buffer_provider</span>(<span class="kw-2">&amp;</span><span class="ident">provider</span>, <span class="kw-2">&amp;</span><span class="ident">locale</span>.<span class="ident">into</span>(), <span class="kw-2">&amp;</span><span class="ident">options</span>.<span class="ident">into</span>())
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to create TypedDateTimeFormatter instance.&quot;</span>);

<span class="kw">let</span> <span class="ident">datetime</span> <span class="op">=</span> <span class="ident">DateTime::new_gregorian_datetime</span>(<span class="number">2020</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">12</span>, <span class="number">34</span>, <span class="number">28</span>)
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to construct DateTime.&quot;</span>);
<span class="kw">let</span> <span class="ident">any_datetime</span> <span class="op">=</span> <span class="ident">datetime</span>.<span class="ident">to_any</span>();

<span class="kw">let</span> <span class="ident">value</span> <span class="op">=</span> <span class="ident">dtf</span>.<span class="ident">format_to_string</span>(<span class="kw-2">&amp;</span><span class="ident">any_datetime</span>).<span class="ident">expect</span>(<span class="string">&quot;calendars should match&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">value</span>, <span class="string">&quot;Sep 1, 2020, 12:34 PM&quot;</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_new_unstable" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/icu_datetime/any/datetime.rs.html#216-275">source</a></span><a href="#method.try_new_unstable" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.try_new_unstable" class="fnname">try_new_unstable</a>&lt;P&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;data_provider: <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;</a>P, <br>&nbsp;&nbsp;&nbsp;&nbsp;locale: &amp;<a class="struct" href="../icu_provider/request/struct.DataLocale.html" title="struct icu_provider::request::DataLocale">DataLocale</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;options: &amp;<a class="enum" href="options/enum.DateTimeFormatterOptions.html" title="enum icu_datetime::options::DateTimeFormatterOptions">DateTimeFormatterOptions</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, <a class="enum" href="enum.DateTimeFormatterError.html" title="enum icu_datetime::DateTimeFormatterError">DateTimeFormatterError</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;P: <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.TimeSymbolsV1Marker.html" title="struct icu_datetime::provider::calendar::TimeSymbolsV1Marker">TimeSymbolsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.TimeLengthsV1Marker.html" title="struct icu_datetime::provider::calendar::TimeLengthsV1Marker">TimeLengthsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.DateSkeletonPatternsV1Marker.html" title="struct icu_datetime::provider::calendar::DateSkeletonPatternsV1Marker">DateSkeletonPatternsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="../icu_plurals/provider/struct.OrdinalV1Marker.html" title="struct icu_plurals::provider::OrdinalV1Marker">OrdinalV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/week_data/struct.WeekDataV1Marker.html" title="struct icu_datetime::provider::week_data::WeekDataV1Marker">WeekDataV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="../icu_decimal/provider/struct.DecimalSymbolsV1Marker.html" title="struct icu_decimal::provider::DecimalSymbolsV1Marker">DecimalSymbolsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.GregorianDateLengthsV1Marker.html" title="struct icu_datetime::provider::calendar::GregorianDateLengthsV1Marker">GregorianDateLengthsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.BuddhistDateLengthsV1Marker.html" title="struct icu_datetime::provider::calendar::BuddhistDateLengthsV1Marker">BuddhistDateLengthsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.JapaneseDateLengthsV1Marker.html" title="struct icu_datetime::provider::calendar::JapaneseDateLengthsV1Marker">JapaneseDateLengthsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.JapaneseExtendedDateLengthsV1Marker.html" title="struct icu_datetime::provider::calendar::JapaneseExtendedDateLengthsV1Marker">JapaneseExtendedDateLengthsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.CopticDateLengthsV1Marker.html" title="struct icu_datetime::provider::calendar::CopticDateLengthsV1Marker">CopticDateLengthsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.IndianDateLengthsV1Marker.html" title="struct icu_datetime::provider::calendar::IndianDateLengthsV1Marker">IndianDateLengthsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.EthiopicDateLengthsV1Marker.html" title="struct icu_datetime::provider::calendar::EthiopicDateLengthsV1Marker">EthiopicDateLengthsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.GregorianDateSymbolsV1Marker.html" title="struct icu_datetime::provider::calendar::GregorianDateSymbolsV1Marker">GregorianDateSymbolsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.BuddhistDateSymbolsV1Marker.html" title="struct icu_datetime::provider::calendar::BuddhistDateSymbolsV1Marker">BuddhistDateSymbolsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.JapaneseDateSymbolsV1Marker.html" title="struct icu_datetime::provider::calendar::JapaneseDateSymbolsV1Marker">JapaneseDateSymbolsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.JapaneseExtendedDateSymbolsV1Marker.html" title="struct icu_datetime::provider::calendar::JapaneseExtendedDateSymbolsV1Marker">JapaneseExtendedDateSymbolsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.CopticDateSymbolsV1Marker.html" title="struct icu_datetime::provider::calendar::CopticDateSymbolsV1Marker">CopticDateSymbolsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.IndianDateSymbolsV1Marker.html" title="struct icu_datetime::provider::calendar::IndianDateSymbolsV1Marker">IndianDateSymbolsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="provider/calendar/struct.EthiopicDateSymbolsV1Marker.html" title="struct icu_datetime::provider::calendar::EthiopicDateSymbolsV1Marker">EthiopicDateSymbolsV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="../icu_calendar/provider/struct.JapaneseErasV1Marker.html" title="struct icu_calendar::provider::JapaneseErasV1Marker">JapaneseErasV1Marker</a>&gt; + <a class="trait" href="../icu_provider/data_provider/trait.DataProvider.html" title="trait icu_provider::data_provider::DataProvider">DataProvider</a>&lt;<a class="struct" href="../icu_calendar/provider/struct.JapaneseExtendedErasV1Marker.html" title="struct icu_calendar::provider::JapaneseExtendedErasV1Marker">JapaneseExtendedErasV1Marker</a>&gt; + ?<a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h4></section></summary><div class="docblock"><p>Construct a new <a href="struct.DateTimeFormatter.html" title="DateTimeFormatter"><code>DateTimeFormatter</code></a> from a data provider that can provide all of the requested data.</p>
<p>This method is <strong>unstable</strong>, more bounds may be added in the future as calendar support is added. It is
preferable to use a provider that implements <code>DataProvider&lt;D&gt;</code> for all <code>D</code>, and ensure data is loaded as
appropriate. The <a href="struct.DateTimeFormatter.html#method.try_new_with_buffer_provider" title="Self::try_new_with_buffer_provider()"><code>Self::try_new_with_buffer_provider()</code></a>, <a href="struct.DateTimeFormatter.html#method.try_new_with_any_provider" title="Self::try_new_with_any_provider()"><code>Self::try_new_with_any_provider()</code></a> constructors
may also be used if compile stability is desired.</p>
<h5 id="examples-2"><a href="#examples-2">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">icu::calendar::DateTime</span>;
<span class="kw">use</span> <span class="ident">icu::datetime</span>::{<span class="ident">options::length</span>, <span class="ident">DateTimeFormatter</span>};
<span class="kw">use</span> <span class="ident">icu::locid::Locale</span>;
<span class="kw">use</span> <span class="ident">icu_provider::any::DynamicDataProviderAnyMarkerWrap</span>;
<span class="kw">use</span> <span class="ident">std::str::FromStr</span>;

<span class="kw">let</span> <span class="ident">provider</span> <span class="op">=</span> <span class="ident">icu_testdata::get_provider</span>();

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">options</span> <span class="op">=</span> <span class="ident">length::Bag::from_date_time_style</span>(<span class="ident">length::Date::Medium</span>, <span class="ident">length::Time::Short</span>);
<span class="kw">let</span> <span class="ident">locale</span> <span class="op">=</span> <span class="ident">Locale::from_str</span>(<span class="string">&quot;en-u-ca-gregory&quot;</span>).<span class="ident">unwrap</span>();

<span class="kw">let</span> <span class="ident">dtf</span> <span class="op">=</span> <span class="ident">DateTimeFormatter::try_new_unstable</span>(<span class="kw-2">&amp;</span><span class="ident">provider</span>, <span class="kw-2">&amp;</span><span class="ident">locale</span>.<span class="ident">into</span>(), <span class="kw-2">&amp;</span><span class="ident">options</span>.<span class="ident">into</span>())
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to create TypedDateTimeFormatter instance.&quot;</span>);

<span class="kw">let</span> <span class="ident">datetime</span> <span class="op">=</span> <span class="ident">DateTime::new_gregorian_datetime</span>(<span class="number">2020</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">12</span>, <span class="number">34</span>, <span class="number">28</span>)
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to construct DateTime.&quot;</span>);
<span class="kw">let</span> <span class="ident">any_datetime</span> <span class="op">=</span> <span class="ident">datetime</span>.<span class="ident">to_any</span>();

<span class="kw">let</span> <span class="ident">value</span> <span class="op">=</span> <span class="ident">dtf</span>.<span class="ident">format_to_string</span>(<span class="kw-2">&amp;</span><span class="ident">any_datetime</span>).<span class="ident">expect</span>(<span class="string">&quot;calendars should match&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">value</span>, <span class="string">&quot;Sep 1, 2020, 12:34 PM&quot;</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_from_date_and_time" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/icu_datetime/any/datetime.rs.html#316-325">source</a></span><a href="#method.try_from_date_and_time" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.try_from_date_and_time" class="fnname">try_from_date_and_time</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;date: <a class="struct" href="struct.DateFormatter.html" title="struct icu_datetime::DateFormatter">DateFormatter</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;time: <a class="struct" href="struct.TimeFormatter.html" title="struct icu_datetime::TimeFormatter">TimeFormatter</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, <a class="enum" href="enum.DateTimeFormatterError.html" title="enum icu_datetime::DateTimeFormatterError">DateTimeFormatterError</a>&gt;</h4></section></summary><div class="docblock"><p>Constructor that takes a <a href="struct.TimeFormatter.html" title="TimeFormatter"><code>TimeFormatter</code></a> and <a href="struct.DateFormatter.html" title="DateFormatter"><code>DateFormatter</code></a> and combines them into a <a href="struct.DateTimeFormatter.html" title="DateTimeFormatter"><code>DateTimeFormatter</code></a>.
Prefer using one of the other constructors if possible.</p>
<h5 id="examples-3"><a href="#examples-3">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">icu::calendar::DateTime</span>;
<span class="kw">use</span> <span class="ident">icu::datetime</span>::{<span class="ident">options::length</span>, <span class="ident">DateTimeFormatter</span>, <span class="ident">DateFormatter</span>, <span class="ident">TimeFormatter</span>};
<span class="kw">use</span> <span class="ident">icu::locid</span>::{<span class="ident">locale</span>, <span class="ident">Locale</span>};
<span class="kw">use</span> <span class="ident">icu_provider::any::DynamicDataProviderAnyMarkerWrap</span>;
<span class="kw">use</span> <span class="ident">std::str::FromStr</span>;

<span class="kw">let</span> <span class="ident">provider</span> <span class="op">=</span> <span class="ident">icu_testdata::get_provider</span>();

<span class="kw">let</span> <span class="ident">length</span> <span class="op">=</span> <span class="ident">length::Date::Medium</span>;
<span class="kw">let</span> <span class="ident">locale</span> <span class="op">=</span> <span class="ident">Locale::from_str</span>(<span class="string">&quot;en-u-ca-gregory&quot;</span>).<span class="ident">unwrap</span>();

<span class="kw">let</span> <span class="ident">df</span> <span class="op">=</span> <span class="ident">DateFormatter::try_new_with_buffer_provider</span>(<span class="kw-2">&amp;</span><span class="ident">provider</span>, <span class="kw-2">&amp;</span><span class="ident">locale</span>.<span class="ident">into</span>(), <span class="ident">length</span>)
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to create TypedDateFormatter instance.&quot;</span>);

<span class="kw">let</span> <span class="ident">tf</span> <span class="op">=</span> <span class="ident">TimeFormatter::try_new</span>(
    <span class="kw-2">&amp;</span><span class="ident">provider</span>,
    <span class="kw-2">&amp;</span><span class="macro">locale!</span>(<span class="string">&quot;en&quot;</span>).<span class="ident">into</span>(),
    <span class="ident">length::Time::Short</span>,
)
.<span class="ident">expect</span>(<span class="string">&quot;Failed to create TimeFormatter instance.&quot;</span>);

<span class="kw">let</span> <span class="ident">dtf</span> <span class="op">=</span> <span class="ident">DateTimeFormatter::try_from_date_and_time</span>(<span class="ident">df</span>, <span class="ident">tf</span>).<span class="ident">unwrap</span>();

<span class="kw">let</span> <span class="ident">datetime</span> <span class="op">=</span> <span class="ident">DateTime::new_gregorian_datetime</span>(<span class="number">2020</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">12</span>, <span class="number">34</span>, <span class="number">28</span>)
    .<span class="ident">expect</span>(<span class="string">&quot;Failed to construct DateTime.&quot;</span>);
<span class="kw">let</span> <span class="ident">any_datetime</span> <span class="op">=</span> <span class="ident">datetime</span>.<span class="ident">to_any</span>();

<span class="kw">let</span> <span class="ident">value</span> <span class="op">=</span> <span class="ident">dtf</span>.<span class="ident">format_to_string</span>(<span class="kw-2">&amp;</span><span class="ident">any_datetime</span>).<span class="ident">expect</span>(<span class="string">&quot;calendars should match&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">value</span>, <span class="string">&quot;Sep 1, 2020, 12:34 PM&quot;</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.format" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/icu_datetime/any/datetime.rs.html#334-346">source</a></span><a href="#method.format" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.format" class="fnname">format</a>&lt;'l, T&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;'l self, <br>&nbsp;&nbsp;&nbsp;&nbsp;value: <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;</a>T<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.FormattedDateTime.html" title="struct icu_datetime::FormattedDateTime">FormattedDateTime</a>&lt;'l&gt;, <a class="enum" href="enum.DateTimeFormatterError.html" title="enum icu_datetime::DateTimeFormatterError">DateTimeFormatterError</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="input/trait.DateTimeInput.html" title="trait icu_datetime::input::DateTimeInput">DateTimeInput</a>&lt;Calendar = <a class="enum" href="../icu_calendar/any_calendar/enum.AnyCalendar.html" title="enum icu_calendar::any_calendar::AnyCalendar">AnyCalendar</a>&gt;,&nbsp;</span></h4></section></summary><div class="docblock"><p>Takes a <a href="input/trait.DateTimeInput.html" title="DateTimeInput"><code>DateTimeInput</code></a> implementer and returns an instance of a <a href="struct.FormattedDateTime.html" title="FormattedDateTime"><code>FormattedDateTime</code></a>
that contains all information necessary to display a formatted date and operate on it.</p>
<p>This function will fail if the date passed in uses a different calendar than that of the
AnyCalendar. Please convert dates before passing them in if necessary. This function
will automatically convert and format dates that are associated with the ISO calendar.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.format_to_write" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/icu_datetime/any/datetime.rs.html#355-366">source</a></span><a href="#method.format_to_write" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.format_to_write" class="fnname">format_to_write</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;w: &amp;mut impl <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/fmt/trait.Write.html" title="trait core::fmt::Write">Write</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;value: &amp;impl <a class="trait" href="input/trait.DateTimeInput.html" title="trait icu_datetime::input::DateTimeInput">DateTimeInput</a>&lt;Calendar = <a class="enum" href="../icu_calendar/any_calendar/enum.AnyCalendar.html" title="enum icu_calendar::any_calendar::AnyCalendar">AnyCalendar</a>&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.DateTimeFormatterError.html" title="enum icu_datetime::DateTimeFormatterError">DateTimeFormatterError</a>&gt;</h4></section></summary><div class="docblock"><p>Takes a mutable reference to anything that implements <a href="https://doc.rust-lang.org/1.61.0/core/fmt/trait.Write.html"><code>Write</code></a> trait
and a <a href="input/trait.DateTimeInput.html" title="DateTimeInput"><code>DateTimeInput</code></a> implementer and populates the buffer with a formatted value.</p>
<p>This function will fail if the date passed in uses a different calendar than that of the
AnyCalendar. Please convert dates before passing them in if necessary. This function
will automatically convert and format dates that are associated with the ISO calendar.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.format_to_string" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/icu_datetime/any/datetime.rs.html#374-383">source</a></span><a href="#method.format_to_string" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.format_to_string" class="fnname">format_to_string</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;value: &amp;impl <a class="trait" href="input/trait.DateTimeInput.html" title="trait icu_datetime::input::DateTimeInput">DateTimeInput</a>&lt;Calendar = <a class="enum" href="../icu_calendar/any_calendar/enum.AnyCalendar.html" title="enum icu_calendar::any_calendar::AnyCalendar">AnyCalendar</a>&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.61.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="enum" href="enum.DateTimeFormatterError.html" title="enum icu_datetime::DateTimeFormatterError">DateTimeFormatterError</a>&gt;</h4></section></summary><div class="docblock"><p>Takes a <a href="input/trait.DateTimeInput.html" title="DateTimeInput"><code>DateTimeInput</code></a> implementer and returns it formatted as a string.</p>
<p>This function will fail if the date passed in uses a different calendar than that of the
AnyCalendar. Please convert dates before passing them in if necessary. This function
will automatically convert and format dates that are associated with the ISO calendar.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.resolve_components" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/icu_datetime/any/datetime.rs.html#418-420">source</a></span><a href="#method.resolve_components" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.resolve_components" class="fnname">resolve_components</a>(&amp;self) -&gt; <a class="struct" href="options/components/struct.Bag.html" title="struct icu_datetime::options::components::Bag">Bag</a></h4></section></summary><div class="docblock"><p>Returns a <a href="options/components/struct.Bag.html" title="components::Bag"><code>components::Bag</code></a> that represents the resolved components for the
options that were provided to the <a href="struct.DateTimeFormatter.html" title="DateTimeFormatter"><code>DateTimeFormatter</code></a>. The developer may request
a certain set of options for a <a href="struct.DateTimeFormatter.html" title="DateTimeFormatter"><code>DateTimeFormatter</code></a> but the locale and resolution
algorithm may change certain details of what actually gets resolved.</p>
<h5 id="examples-4"><a href="#examples-4">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">icu::calendar::Gregorian</span>;
<span class="kw">use</span> <span class="ident">icu::datetime</span>::{
    <span class="ident">options</span>::{<span class="ident">components</span>, <span class="ident">length</span>},
    <span class="ident">DateTimeFormatter</span>, <span class="ident">DateTimeFormatterOptions</span>,
};
<span class="kw">use</span> <span class="ident">icu::locid::Locale</span>;
<span class="kw">use</span> <span class="ident">std::str::FromStr</span>;

<span class="kw">let</span> <span class="ident">options</span> <span class="op">=</span> <span class="ident">length::Bag::from_date_style</span>(<span class="ident">length::Date::Medium</span>).<span class="ident">into</span>();

<span class="kw">let</span> <span class="ident">provider</span> <span class="op">=</span> <span class="ident">icu_testdata::get_provider</span>();
<span class="kw">let</span> <span class="ident">dtf</span> <span class="op">=</span> <span class="ident">DateTimeFormatter::try_new_with_buffer_provider</span>(
    <span class="kw-2">&amp;</span><span class="ident">provider</span>,
    <span class="kw-2">&amp;</span><span class="ident">Locale::from_str</span>(<span class="string">&quot;en-u-ca-gregory&quot;</span>).<span class="ident">unwrap</span>().<span class="ident">into</span>(),
    <span class="kw-2">&amp;</span><span class="ident">options</span>
)
.<span class="ident">expect</span>(<span class="string">&quot;Failed to create TypedDateTimeFormatter instance.&quot;</span>);

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">expected_components_bag</span> <span class="op">=</span> <span class="ident">components::Bag::default</span>();
<span class="ident">expected_components_bag</span>.<span class="ident">year</span> <span class="op">=</span> <span class="prelude-val">Some</span>(<span class="ident">components::Year::Numeric</span>);
<span class="ident">expected_components_bag</span>.<span class="ident">month</span> <span class="op">=</span> <span class="prelude-val">Some</span>(<span class="ident">components::Month::Short</span>);
<span class="ident">expected_components_bag</span>.<span class="ident">day</span> <span class="op">=</span> <span class="prelude-val">Some</span>(<span class="ident">components::Day::NumericDayOfMonth</span>);

<span class="macro">assert_eq!</span>(<span class="ident">dtf</span>.<span class="ident">resolve_components</span>(), <span class="ident">expected_components_bag</span>);</code></pre></div>
</div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe" class="impl has-srclink"><a href="#impl-RefUnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.DateTimeFormatter.html" title="struct icu_datetime::DateTimeFormatter">DateTimeFormatter</a></h3></section><section id="impl-Send" class="impl has-srclink"><a href="#impl-Send" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.DateTimeFormatter.html" title="struct icu_datetime::DateTimeFormatter">DateTimeFormatter</a></h3></section><section id="impl-Sync" class="impl has-srclink"><a href="#impl-Sync" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.DateTimeFormatter.html" title="struct icu_datetime::DateTimeFormatter">DateTimeFormatter</a></h3></section><section id="impl-Unpin" class="impl has-srclink"><a href="#impl-Unpin" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.DateTimeFormatter.html" title="struct icu_datetime::DateTimeFormatter">DateTimeFormatter</a></h3></section><section id="impl-UnwindSafe" class="impl has-srclink"><a href="#impl-UnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.DateTimeFormatter.html" title="struct icu_datetime::DateTimeFormatter">DateTimeFormatter</a></h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Any" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/any.rs.html#132-136">source</a></span><a href="#impl-Any" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/any.rs.html#133">source</a></span><a href="#method.type_id" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.61.0/core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.61.0/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.61.0/core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/borrow.rs.html#209-214">source</a></span><a href="#impl-Borrow%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/borrow.rs.html#211">source</a></span><a href="#method.borrow" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.61.0/core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;</a>T</h4></section></summary><div class='docblock'><p>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.61.0/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/borrow.rs.html#218-222">source</a></span><a href="#impl-BorrowMut%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/borrow.rs.html#219">source</a></span><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.61.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;mut </a>T</h4></section></summary><div class='docblock'><p>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.61.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-From%3CT%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#557-562">source</a></span><a href="#impl-From%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#559">source</a></span><a href="#method.from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.61.0/core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#541-552">source</a></span><a href="#impl-Into%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#549">source</a></span><a href="#method.into" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.61.0/core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/1.61.0/core/convert/trait.From.html" title="From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#598-607">source</a></span><a href="#impl-TryFrom%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error" class="type trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#604">source</a></span><a href="#method.try_from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#583-592">source</a></span><a href="#impl-TryInto%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error-1" class="type trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#589">source</a></span><a href="#method.try_into" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><section id="impl-ErasedDestructor" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/yoke/erased.rs.html#21">source</a></span><a href="#impl-ErasedDestructor" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="../yoke/erased/trait.ErasedDestructor.html" title="trait yoke::erased::ErasedDestructor">ErasedDestructor</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static,&nbsp;</span></h3></section></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="icu_datetime" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.61.0 (fe5b13d68 2022-05-18)" ></div>
</body></html>